#include<iostream>
#include"felica2.hpp"

static const uint8_t idm[]={0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08};
static const uint8_t pmm[]={0xAF,0xAF,0xAF,0xAF,0xAF,0xAF,0xAF,0xAF};

uint8_t data[FELICA_BLOCK_SIZE]={0x01,0x23,0x45,0x67,0x89,0xAB,0xCD,0xEF,0x01,0x23,0x45,0x67,0x89,0xAB,0xCD,0xEF};
int main(){
    Felica fe(pmm,0x0003,idm);
    fe.initialize_1st();

    fe.add_area(50,0x0040,0x07FF,0xAABB);
    fe.add_service(3,0x0088,0xEEFF);
    fe.add_service(3,0x008B,0xEFEF);
    fe.add_service(20,0x090C,0xEEFF);
    fe.add_service(20,0x090F,0xEFEF);
    fe.add_area(20,0x00C0,0x00FF,0xBBBB);
    fe.initialize_2nd();

    fe.write(0x0088,0,data);
    data[0]=1;
    fe.write(0x090F,0,data);
    data[0]=2;
    fe.write(0x090F,0,data);
    data[0]=3;
    fe.write(0x090F,0,data);
    data[0]=4;
    fe.write(0x090F,0,data);
    fe.show_block();
}